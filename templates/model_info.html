<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Information - EMG Classifier</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- HEADER WITH HAMBURGER MENU -->
    <header class="header">
        <div class="header-content">
            <a href="{{ url_for('index') }}" class="logo">
                ğŸ¤– EMG Classifier
            </a>
            <button class="hamburger-menu" id="hamburgerMenu" aria-label="Toggle Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </header>

    <!-- NAVIGATION MENU -->
    <nav class="nav-menu" id="navMenu">
        <ul class="nav-links">
            <li><a href="{{ url_for('index') }}">ğŸ  Dashboard</a></li>
            <li><a href="{{ url_for('predict') }}">ğŸ¯ Predict Gesture</a></li>
            <li><a href="{{ url_for('confidence_tracker') }}">ğŸ“Š Confidence Tracker</a></li>
            <li><a href="{{ url_for('compare_gestures') }}">ğŸ” Compare Gestures</a></li>
            <li><a href="{{ url_for('batch_predict') }}">ğŸ“ Batch Prediction</a></li>
            <li><a href="{{ url_for('model_info') }}" class="active">ğŸ”¬ Model Info</a></li>
        </ul>
    </nav>

    <!-- OVERLAY -->
    <div class="nav-overlay" id="navOverlay"></div>

    <div class="container">
        <!-- Header -->
        <div class="hero">
            <div class="hero-content">
                <h1>ğŸ”¬ Detail dan Metrik Model</h1>
                <p class="hero-subtitle">
                    Informasi lengkap tentang performa, arsitektur, dan parameter model SVM yang digunakan 
                    dalam sistem klasifikasi gestur EMG ini.
                </p>
            </div>
        </div>
        
        {% if info.simulasi_mode %}
        <div class="alert-warning">
            âš ï¸ <strong>MODE SIMULASI AKTIF!</strong> Model SVM belum dimuat. Metrik yang ditampilkan 
            di bawah ini adalah nilai <em>placeholder</em>. Silakan muat model yang valid untuk melihat 
            data sebenarnya.
        </div>
        {% endif %}

        <!-- Performance Metrics -->
        <section class="performance">
            <h2 class="section-title">ğŸ“ˆ Metrik Performa</h2>
            
            <div class="metric-box-group">
                <div class="metric-card">
                    <span class="metric-label">Akurasi Test Set</span>
                    <span class="metric-value">{{ (info.akurasi * 100) | round(2) }}%</span>
                </div>
                <div class="metric-card">
                    <span class="metric-label">Algoritma Utama</span>
                    <span class="metric-value" style="font-size: 1.5rem; color: var(--text);">SVM</span>
                </div>
                <div class="metric-card">
                    <span class="metric-label">Kernel Terbaik</span>
                    <span class="metric-value" style="font-size: 1.5rem; color: var(--text);">{{ info.kernel | upper }}</span>
                </div>
            </div>
            
            <h2 class="section-title" style="margin-top: 2rem;">ğŸ“Š Confusion Matrix</h2>
            <p style="color: var(--text-light); margin-bottom: 1rem;">
                Visualisasi performa model dalam memprediksi setiap kelas gestur. Baris menunjukkan 
                kelas aktual, sedangkan kolom menunjukkan prediksi model.
            </p>
            
            <img src="{{ url_for('static', filename='confusion_matrix.png') }}" 
                 alt="Confusion Matrix" 
                 class="confusion-matrix-img">
            
            <p class="note" style="color: var(--text-lighter); font-size: 0.875rem; margin-top: 1rem;">
                ğŸ’¡ <strong>Catatan:</strong> File <code>confusion_matrix.png</code> harus ada di folder <code>static/</code>
            </p>
        </section>

        <!-- Technical Specifications -->
        <section class="specs">
            <h2 class="section-title">âš™ï¸ Spesifikasi Teknis</h2>
            
            <div class="info-grid" style="margin-bottom: 0;">
                <div class="info-card">
                    <div class="card-icon">ğŸ¯</div>
                    <h3 class="card-title">Hyperparameter C</h3>
                    <p class="card-description">
                        <strong>Nilai: {{ info.C }}</strong><br>
                        Parameter regularisasi yang mengontrol trade-off antara memaksimalkan margin 
                        dan meminimalkan kesalahan klasifikasi.
                    </p>
                </div>
                
                <div class="info-card">
                    <div class="card-icon">ğŸ“</div>
                    <h3 class="card-title">Hyperparameter Gamma</h3>
                    <p class="card-description">
                        <strong>Nilai: {{ info.gamma }}</strong><br>
                        Koefisien kernel RBF yang menentukan seberapa jauh pengaruh satu training 
                        example terhadap decision boundary.
                    </p>
                </div>
                
                <div class="info-card">
                    <div class="card-icon">ğŸ’¾</div>
                    <h3 class="card-title">Dataset Training</h3>
                    <p class="card-description">
                        <strong>{{ info.total_samples }} samples</strong><br>
                        Model dilatih menggunakan data yang dibagi dengan rasio 80:20 untuk 
                        training dan testing.
                    </p>
                </div>
            </div>
        </section>

        <!-- Additional Info -->
        <section class="pipeline-section">
            <h2 class="section-title">ğŸ§  Tentang Support Vector Machine (SVM)</h2>
            
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon">ğŸ“Œ</div>
                    <div class="feature-text">
                        <h3>Cara Kerja SVM</h3>
                        <p>SVM mencari hyperplane optimal yang memaksimalkan margin antara kelas berbeda dalam ruang fitur berdimensi tinggi</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">ğŸ¨</div>
                    <div class="feature-text">
                        <h3>Kernel Trick</h3>
                        <p>Menggunakan kernel RBF untuk memetakan data non-linear ke ruang dimensi lebih tinggi</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">âš¡</div>
                    <div class="feature-text">
                        <h3>Efisiensi Tinggi</h3>
                        <p>SVM sangat efektif untuk dataset dengan dimensi tinggi seperti EMG (64 fitur)</p>
                    </div>
                </div>
                
                <div class="feature-item">
                    <div class="feature-icon">ğŸ¯</div>
                    <div class="feature-text">
                        <h3>Robust terhadap Overfitting</h3>
                        <p>Regularisasi melalui parameter C membantu model generalisasi dengan baik</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Navigation -->
        <nav class="navigation-bottom">
            <a href="{{ url_for('index') }}" class="secondary-button">
                ğŸ  Kembali ke Dashboard
            </a>
            <a href="{{ url_for('predict') }}" class="primary">
                ğŸš€ Coba Prediksi
            </a>
        </nav>
    </div>

    <script>
        // Hamburger Menu
        const hamburger = document.getElementById('hamburgerMenu');
        const navMenu = document.getElementById('navMenu');
        const navOverlay = document.getElementById('navOverlay');

        function toggleMenu() {
            hamburger.classList.toggle('active');
            navMenu.classList.toggle('active');
            navOverlay.classList.toggle('active');
        }

        hamburger.addEventListener('click', toggleMenu);
        navOverlay.addEventListener('click', toggleMenu);

        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
                navOverlay.classList.remove('active');
            });
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && navMenu.classList.contains('active')) {
                toggleMenu();
            }
        });
    </script>
</body>
</html>